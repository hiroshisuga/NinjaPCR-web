extends layout

mixin navbar(dir)
  - var isConsole = /\/console\//.test(dir)
  - var isAssy = /\/assy\//.test(dir)
  - var isShop = /\/shop\//.test(dir)
  a.navbar-brand(href="/") NinjaPCR
  button.navbar-toggler(type="button", data-toggle="collapse", data-target="#navbarCollapse", aria-controls="navbarCollapse", aria-expanded="false", aria-label="Toggle navigation")
    span.navbar-toggler-icon
  .collapse.navbar-collapse(id="navbarCollapse")
    ul.navbar-nav
      li.nav-item(class= isConsole ? "active" : "")
        a.nav-link(href="/"+$localeName+"/console/index.html") #{$i18n.console.label}
        if isConsole
           span.sr-only (current)
      li.nav-item(class= isAssy ? "active" : "")
        a.nav-link(href="/"+$localeName+"/assy/index.html") #{$i18n.assy.label}
        if isAssy
          span.sr-only (current)
      li.nav-item(class= isShop ? "active" : "")
        a.nav-link(href="/"+$localeName+"/shop/index.html") #{$i18n.shop.label}
        if isShop
          span.sr-only (current)
    ul.navbar-nav.ml-auto
      li.nav-item
        a.nav-link(href="http://eepurl.com/dxIEcn", target="_blank")
          span(data-feather="mail")
      li.nav-item
        a.nav-link(href="https://github.com/hisashin/NinjaPCR", target="_blank")
          span(data-feather="github")
      li.nav-item
        span.nav-link
          if $localeName == 'en'
            span EN
          else
            a(style="color:#fff;", href="#", onClick="langRedirect('en')", class= isEn ? "active" : "") EN
          | &nbsp;|&nbsp;
          if $localeName == 'ja'
            span JA
          else
            a(style="color:#fff;", href="#", onClick="langRedirect('ja')", class= isJa ? "active" : "") JA

mixin sidebar(dir)
  - var isConsole = /\/console\//.test(dir)
  - var isAssy = /\/assy\//.test(dir)
  - var isShop = /\/shop\//.test(dir)
  .sidebar-sticky
    ul.nav.flex-column
      li.nav-item
        a.nav-link(href="/"+$localeName+"/console/index.html", class= isConsole ? "active" : "")
          span(data-feather="droplet")
          | #{$i18n.console.label}
          if isConsole
            span.sr-only (current)
      li.nav-item
        a.nav-link(href="/"+$localeName+"/assy/index.html", class= isAssy ? "active" : "")
          span(data-feather="life-buoy")
          | #{$i18n.assy.label}
          if isAssy
            span.sr-only (current)
        if isAssy
          .list-group.list-group-root.well
            a.list-group-item(href="#item-1", data-toggle="collapse")
              span.glyphicon.glyphicon-chevron-right
              | Item 1
            .list-group.collapse(id="item-1")
              a.list-group-item(href="#item-1-1", data-toggle="collapse")
                span.glyphicon.glyphicon-chevron-right
                | Item 1.1
              .list-group.collaps(id="item-1-1")
                a.list-group-item Item1.1.1
                a.list-group-item Item1.1.2
                a.list-group-item Item1.1.3
      li.nav-item
        a.nav-link(href="/"+$localeName+"/shop/index.html", class= isShop ? "active" : "")
          span(data-feather="shopping-cart")
          | #{$i18n.shop.label}
          if isShop
            span.sr-only (current)

mixin sidebar2(dir)
  - var isConsole = /\/console\//.test(dir) 
  - var isAssy = /\/assy\//.test(dir) 
  - var isShop = /\/shop\//.test(dir) 
  .sidebar-sticky
    .list-group.list-group-root.well
      a.list-group-item(href="/"+$localeName+"/console/index.html", class= isConsole ? "active" : "")
        span(data-feather="droplet")
        | #{$i18n.console.label}
        if isConsole
          span.sr-only (current)
      a.list-group-item(href="/"+$localeName+"/assy/index.html", class= isAssy ? "active" : "")
        span(data-feather="life-buoy")
        | #{$i18n.assy.label}
        if isAssy
          span.sr-only (current)
      if isAssy
        .list-group
          a.list-group-item(href="#") 1st
          a.list-group-item(href="#") 2nd
          a.list-group-item(href="#") 3rd
          a.list-group-item(href="#") 4th
          a.list-group-item(href="#") 5th
      a.list-group-item(href="/"+$localeName+"/shop/index.html", class= isShop ? "active" : "")
        span(data-feather="shopping-cart")
        | #{$i18n.shop.label}
        if isShop
          span.sr-only (current)

mixin sidebarOld(dir)
  - var isConsole = /\/console\//.test(dir)
  - var isAssy = /\/assy\//.test(dir)
  - var isShop = /\/shop\//.test(dir)
  .sidebar-sticky
    ul.nav.flex-column
      li.nav-item
        a.nav-link(href="/"+$localeName+"/console/index.html", class= isConsole ? "active" : "")
          span(data-feather="droplet")
          | #{$i18n.console.label}
          if isConsole
            span.sr-only (current)
      li.nav-item
        a.nav-link(href="/"+$localeName+"/assy/index.html", class= isAssy ? "active" : "")
          span(data-feather="life-buoy")
          | #{$i18n.assy.label}
          if isAssy
            span.sr-only (current)
        if isAssy
          ul.list-group
            a.list-group-item.list-group-item-action.active(href="#") 1st
            a.list-group-item.list-group-item-action(href="#") 2nd
            a.list-group-item.list-group-item-action(href="#") 3rd
            a.list-group-item.list-group-item-action(href="#") 4th
            a.list-group-item.list-group-item-action(href="#") 5th
      li.nav-item
        a.nav-link(href="/"+$localeName+"/shop/index.html", class= isShop ? "active" : "")
          span(data-feather="shopping-cart")
          | #{$i18n.shop.label}
          if isShop
            span.sr-only (current)
            
block append head
  link(rel='stylesheet', href='/css/common/navbar-top-fixed.css')
  link(rel='stylesheet', href='/css/common/dashboard.css')
 
block append content
  nav.navbar.navbar-expand-md.navbar-dark.fixed-top.bg-dark
    block navbar

  .container-fluid
    .row
      nav.col-md-2.d-none.d-md-block.bg-light.sidebar
        block sidebar

      main.col-md-10.ml-sm-auto.col-lg-10.px-4(role="main")
        block main

  script(src="/js/common/feather.min.js")
  script feather.replace()
  script
    | $(function() {
    |   $('.list-group-item').on('click', function() {
    |     $('.glyphicon', this)
    |       .toggleClass('glyphicon-chevron-right')
    |       .toggleClass('glyphicon-chevron-down');
    |   });
    | });

